{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/odile/anime-manga-app/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n  {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    }\n  }\n)"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,sUAGjC;IACE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/odile/anime-manga-app/app/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { supabase } from '@/lib/supabaseClient'\nimport { fetchMediaById } from '@/lib/anilist'\n\ntype Review = {\n  id: string\n  user_id: string\n  media_id: number\n  media_type: 'anime' | 'manga'\n  content: string\n  created_at: string\n}\n\nexport default function ReviewsPage() {\n  const [reviews, setReviews] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const router = useRouter()\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      const { data: sessionData } = await supabase.auth.getSession()\n      const user = sessionData.session?.user\n\n      if (!user) {\n        router.push('/login')\n        return\n      }\n\n      const { data, error } = await supabase\n        .from('reviews')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false })\n\n      if (error) {\n        console.error('Error fetching reviews:', error)\n        return\n      }\n\n      const withMedia = await Promise.all(\n        (data || []).map(async (review: Review) => {\n          const media = await fetchAniListMedia(review.media_id)\n          return { ...review, media }\n        })\n      )\n\n      setReviews(withMedia)\n      setLoading(false)\n    }\n\n    fetchReviews()\n  }, [router])\n\n  if (loading) return <p className=\"p-6\">Loading your reviews...</p>\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <h1 className=\"text-2xl font-bold\">Your Reviews</h1>\n      {reviews.length === 0 ? (\n        <p className=\"text-gray-500\">You haven't written any reviews yet.</p>\n      ) : (\n        <div className=\"space-y-4\">\n          {reviews.map((review) => (\n            <div key={review.id} className=\"border rounded p-4 shadow-sm bg-white\">\n              <div className=\"flex gap-4\">\n                <img\n                  src={review.media.coverImage.medium}\n                  alt=\"cover\"\n                  className=\"w-20 h-28 object-cover rounded\"\n                />\n                <div>\n                  <h2 className=\"font-semibold text-lg\">\n                    {review.media.title.english || review.media.title.romaji}\n                  </h2>\n                  <p className=\"text-sm text-gray-500 italic\">{review.created_at.slice(0, 10)}</p>\n                </div>\n              </div>\n              <p className=\"mt-2 text-gray-700 whitespace-pre-line\">{review.content}</p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction fetchAniListMedia(media_id: number) {\n  throw new Error('Function not implemented.')\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,eAAe;YACnB,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,qHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,UAAU;YAC5D,MAAM,OAAO,YAAY,OAAO,EAAE;YAElC,IAAI,CAAC,MAAM;gBACT,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qHAAA,CAAA,WAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,2BAA2B;gBACzC;YACF;YAEA,MAAM,YAAY,MAAM,QAAQ,GAAG,CACjC,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,OAAO;gBACtB,MAAM,QAAQ,MAAM,kBAAkB,OAAO,QAAQ;gBACrD,OAAO;oBAAE,GAAG,MAAM;oBAAE;gBAAM;YAC5B;YAGF,WAAW;YACX,WAAW;QACb;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAM;;;;;;IAEvC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;YAClC,QAAQ,MAAM,KAAK,kBAClB,8OAAC;gBAAE,WAAU;0BAAgB;;;;;qCAE7B,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;wBAAoB,WAAU;;0CAC7B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,KAAK,OAAO,KAAK,CAAC,UAAU,CAAC,MAAM;wCACnC,KAAI;wCACJ,WAAU;;;;;;kDAEZ,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DACX,OAAO,KAAK,CAAC,KAAK,CAAC,OAAO,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,MAAM;;;;;;0DAE1D,8OAAC;gDAAE,WAAU;0DAAgC,OAAO,UAAU,CAAC,KAAK,CAAC,GAAG;;;;;;;;;;;;;;;;;;0CAG5E,8OAAC;gCAAE,WAAU;0CAA0C,OAAO,OAAO;;;;;;;uBAd7D,OAAO,EAAE;;;;;;;;;;;;;;;;AAqB/B;AAEA,SAAS,kBAAkB,QAAgB;IACzC,MAAM,IAAI,MAAM;AAClB","debugId":null}}]
}