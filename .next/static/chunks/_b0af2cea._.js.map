{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/odile/anime-manga-app/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n  {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    }\n  }\n)"],"names":[],"mappings":";;;AAGE;AAHF;;AAEO,MAAM,WAAW,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD,sUAGjC;IACE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/odile/anime-manga-app/app/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { supabase } from '@/lib/supabaseClient'\nimport { fetchMediaById } from '@/lib/anilist'\n\ntype Review = {\n  id: string\n  user_id: string\n  media_id: number\n  media_type: 'anime' | 'manga'\n  content: string\n  created_at: string\n}\n\nexport default function ReviewsPage() {\n  const [reviews, setReviews] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const router = useRouter()\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      const { data: sessionData } = await supabase.auth.getSession()\n      const user = sessionData.session?.user\n\n      if (!user) {\n        router.push('/login')\n        return\n      }\n\n      const { data, error } = await supabase\n        .from('reviews')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false })\n\n      if (error) {\n        console.error('Error fetching reviews:', error)\n        return\n      }\n\n      const withMedia = await Promise.all(\n        (data || []).map(async (review: Review) => {\n          const media = await fetchAniListMedia(review.media_id)\n          return { ...review, media }\n        })\n      )\n\n      setReviews(withMedia)\n      setLoading(false)\n    }\n\n    fetchReviews()\n  }, [router])\n\n  if (loading) return <p className=\"p-6\">Loading your reviews...</p>\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <h1 className=\"text-2xl font-bold\">Your Reviews</h1>\n      {reviews.length === 0 ? (\n        <p className=\"text-gray-500\">You haven't written any reviews yet.</p>\n      ) : (\n        <div className=\"space-y-4\">\n          {reviews.map((review) => (\n            <div key={review.id} className=\"border rounded p-4 shadow-sm bg-white\">\n              <div className=\"flex gap-4\">\n                <img\n                  src={review.media.coverImage.medium}\n                  alt=\"cover\"\n                  className=\"w-20 h-28 object-cover rounded\"\n                />\n                <div>\n                  <h2 className=\"font-semibold text-lg\">\n                    {review.media.title.english || review.media.title.romaji}\n                  </h2>\n                  <p className=\"text-sm text-gray-500 italic\">{review.created_at.slice(0, 10)}</p>\n                </div>\n              </div>\n              <p className=\"mt-2 text-gray-700 whitespace-pre-line\">{review.content}</p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction fetchAniListMedia(media_id: number) {\n  throw new Error('Function not implemented.')\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAgBe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,MAAM;sDAAe;oBACnB,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,wHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,UAAU;oBAC5D,MAAM,OAAO,YAAY,OAAO,EAAE;oBAElC,IAAI,CAAC,MAAM;wBACT,OAAO,IAAI,CAAC;wBACZ;oBACF;oBAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,wHAAA,CAAA,WAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;wBAAE,WAAW;oBAAM;oBAE1C,IAAI,OAAO;wBACT,QAAQ,KAAK,CAAC,2BAA2B;wBACzC;oBACF;oBAEA,MAAM,YAAY,MAAM,QAAQ,GAAG,CACjC,CAAC,QAAQ,EAAE,EAAE,GAAG;8DAAC,OAAO;4BACtB,MAAM,QAAQ,MAAM,kBAAkB,OAAO,QAAQ;4BACrD,OAAO;gCAAE,GAAG,MAAM;gCAAE;4BAAM;wBAC5B;;oBAGF,WAAW;oBACX,WAAW;gBACb;;YAEA;QACF;gCAAG;QAAC;KAAO;IAEX,IAAI,SAAS,qBAAO,6LAAC;QAAE,WAAU;kBAAM;;;;;;IAEvC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAqB;;;;;;YAClC,QAAQ,MAAM,KAAK,kBAClB,6LAAC;gBAAE,WAAU;0BAAgB;;;;;qCAE7B,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;wBAAoB,WAAU;;0CAC7B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,KAAK,OAAO,KAAK,CAAC,UAAU,CAAC,MAAM;wCACnC,KAAI;wCACJ,WAAU;;;;;;kDAEZ,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DACX,OAAO,KAAK,CAAC,KAAK,CAAC,OAAO,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,MAAM;;;;;;0DAE1D,6LAAC;gDAAE,WAAU;0DAAgC,OAAO,UAAU,CAAC,KAAK,CAAC,GAAG;;;;;;;;;;;;;;;;;;0CAG5E,6LAAC;gCAAE,WAAU;0CAA0C,OAAO,OAAO;;;;;;;uBAd7D,OAAO,EAAE;;;;;;;;;;;;;;;;AAqB/B;GAvEwB;;QAGP,qIAAA,CAAA,YAAS;;;KAHF;AAyExB,SAAS,kBAAkB,QAAgB;IACzC,MAAM,IAAI,MAAM;AAClB","debugId":null}}]
}